#! /usr/bin/python

data = "m 112.27574,537.15564 c -5.13937,14.86995 -53.386647,29.90544 -17.318847,22.74531 26.750957,-7.98822 46.887867,-48.65809 79.039107,-30.83407 13.62853,13.67286 -31.07122,2.33462 -39.08126,17.45224 C 113.28667,563.47385 82.719603,589.40927 57.764543,562.1836 43.778283,541.54454 7.1315325,538.63064 -6.4088775,532.17192 16.510803,512.70387 52.871563,536.1809 75.951213,509.5999 c 14.33156,-20.77436 28.644667,16.68979 48.323207,14.17391 -3.6237,4.81088 -9.04819,8.01804 -11.99868,13.38183 z M -32.802517,502.39321 c -18.86017,-0.36208 -34.84092,19.09379 -42.59909,28.09047 -15.2353,-18.65745 -17.2262,-47.64499 14.10883,-35.97294 21.70254,1.33621 48.30619,-12.93502 55.2006995,16.66458 20.3752105,13.59866 -63.3748495,4.75812 -22.8443195,-8.39399 l 1.21084,-1.30821 z m 290.156527,6.67196 c -4.5217,11.31927 -12.25581,35.32449 -19.46002,10.55191 -4.37805,-13.01775 -57.57489,-25.47828 -25.14126,-9.16327 -7.34149,7.00698 -59.85984,14.57412 -31.01456,-4.82521 3.72403,-25.92692 31.62472,-7.35553 50.01378,-11.2721 13.43565,3.7073 34.73151,-12.44157 25.60206,14.70867 z m -82.51915,-18.68908 c -13.51254,29.00681 -56.337,25.45171 -78.560527,8.38718 -16.37235,-21.01398 -37.68308,23.23544 -63.38173,13.1757 C -3.9938475,514.61692 -12.488857,471.8965 -0.50845745,444.90315 10.103983,414.78055 42.248913,401.63361 71.186383,396.04668 c 28.933647,-7.97572 61.580907,7.54284 85.009017,24.7666 18.09792,18.29087 23.11632,45.15243 18.63946,69.56281 z M 100.31479,339.23338 c 33.33791,8.07595 58.50583,38.10694 63.71634,71.55058 -5.62753,12.11856 -31.54352,-19.56234 -47.51251,-15.88097 -24.680137,-13.52549 -57.147417,4.2198 -77.411827,-0.0824 3.09158,-22.49042 27.91512,-35.87297 37.95336,-48.68576 -30.40799,4.81625 -54.63142,33.5712 -57.9439,63.98816 -25.7899905,17.61078 -2.05477,-33.17964 6.54703,-41.2139 16.93455,-19.85152 49.25051,-40.44767 74.651507,-29.67572 z M 89.636713,303.14411 c 15.512517,5.57469 43.626137,45.90849 7.51571,27.01576 -16.32723,-5.87981 -59.41437,16.57421 -32.63905,-12.11871 5.62011,-6.00223 15.65325,-20.52907 25.12334,-14.89705 z M -191.20011,288.43547 c 8.38042,42.59539 19.75029,91.38403 57.57091,117.94545 33.708895,18.42909 73.312603,26.16734 111.638193,23.24569 13.2942795,-6.98151 29.8125795,-3.3329 9.94084,7.34793 -22.76052,11.452 -72.13373,6.70344 -80.25645,11.83404 15.39739,9.33683 64.93047,-4.43584 61.9917,2.35941 -34.01818,11.75414 -73.980603,7.13635 -102.325633,-15.64604 9.92338,19.55471 48.022893,33.00185 73.837753,35.77743 10.40259,2.03259 58.01293955,-0.91272 30.78968,12.32821 -35.79261,0.88157 -75.083373,-2.9489 -103.387723,-26.28714 -23.74311,-20.57462 -35.88492,-51.68724 -45.93703,-80.97589 -8.40805,-28.38951 -13.1972,-58.31214 -13.86224,-87.92909 z m 552.39169,28.05257 c -6.14524,39.68246 -14.8347,80.37505 -36.57359,114.72102 -19.22525,36.01372 -61.89154,50.1103 -100.60801,52.20846 -14.44326,6.77753 -54.38638,-8.48723 -21.07912,-10.39415 36.87112,-0.21543 77.31785,-8.38636 102.73883,-36.7646 -20.88797,11.73056 -48.26121,24.41099 -75.08631,20.84137 -9.95049,2.45919 -53.12054,-13.09009 -20.6786,-7.80502 14.5388,2.62076 53.52921,5.87765 54.16476,-3.64797 -27.47048,2.09088 -54.99088,0.39285 -81.08823,-8.70035 -27.13256,-23.42382 34.44642,1.46978 48.56626,-7.64285 34.56466,-5.82176 73.77328,-13.25295 95.34073,-43.96112 19.24164,-28.41385 30.88455,-61.75816 34.04335,-95.78911 4.70011,4.16395 -1.02079,18.34772 0.25991,26.93432 z M 204.11464,264.36332 c -10.85209,15.86068 -8.72935,41.79266 -36.12778,32.11654 -15.92846,0.76316 -61.46814,-3.41836 -26.43134,-17.4079 17.80726,-8.21344 50.31113,-21.19843 62.55912,-14.70864 z m -238.237797,-2.69151 c 25.8218695,1.20393 63.34604,10.22113 75.91615,29.87138 -28.26539,5.46323 -69.87264,16.9273 -71.30169,-23.33998 l -2.13281,-3.41291 z M 208.11417,58.404391 c -25.26445,3.74569 -22.9685,42.005859 -51.3566,28.03446 -38.46988,14.716459 1.61604,-33.45001 16.27541,-37.74862 9.03857,-10.631338 48.64893,-3.43487 35.08119,9.71416 z m -1.3206,-36.127161 c 23.88929,-0.104754 57.78174,14.675293 69.19989,30.782011 -23.68066,-17.919716 -59.43924,12.00941 -66.54685,-27.138588 z m -95.83843,169.86968 c 15.70186,-25.4541 32.37967,-51.92319 55.88058,-70.88962 6.52507,18.97418 29.25891,38.16624 41.85724,48.08826 -7.83124,8.54286 -60.71586,26.15195 -24.53839,20.10984 28.17864,-9.09815 51.75128,-28.15083 66.35446,-54.04426 12.17368,-7.93085 16.27942,-64.367809 24.16383,-26.20887 5.63318,31.38819 7.52925,66.55314 -7.7344,95.54725 -11.44663,10.45607 -15.79612,19.06893 0.49918,5.20294 10.46069,-17.26791 36.30834,8.87751 52.35761,1.62777 -11.85098,17.76347 -35.30977,-1.176 -41.44226,3.34174 14.45631,7.04466 42.68719,37.13072 37.59832,41.40469 -5.92166,-12.3436 -21.33408,-19.1339 -6.6785,-1.32684 10.14396,12.36502 16.85918,33.51182 -2.8525,14.23767 -9.14609,-5.06661 -25.7971,-37.08968 -28.93122,-28.11837 15.5004,7.82234 32.08868,60.77813 3.51971,32.5917 -13.07353,-6.91234 37.76395,41.03834 10.98288,18.70507 -20.65665,-15.78368 15.33956,24.83176 9.31974,35.93163 2.21822,14.93855 -22.93964,-15.02317 -32.76293,-4.00138 17.83606,-29.23922 -14.38265,-1.2234 -8.51552,14.8871 -23.90632,-6.99639 -10.82055,-49.24293 -12.28107,-48.78671 -20.17281,13.53687 -4.08855,48.79004 0.61838,51.87447 -14.8345,-5.54449 20.00513,17.30669 28.41504,15.63923 12.09556,3.47048 21.1442,21.99308 3.20772,6.67197 -8.71322,-6.86544 -29.94544,-1.94325 -9.09407,1.72025 17.71278,23.44343 1.2135,56.78411 -29.50545,49.11553 4.56633,-20.24225 6.41452,-47.0069 -0.53457,-64.41944 -0.84824,38.30921 -40.95184,54.52331 -67.03724,25.99151 -13.40411,-7.24128 -36.93482,-44.63146 -7.92141,-20.47117 9.89286,16.04655 62.0339,10.39793 49.3777,4.40345 -19.40258,6.82329 -59.98644,-23.95597 -51.25407,-37.77457 26.65704,5.73861 57.88227,-1.13159 69.4149,-28.40609 12.26809,-35.99804 -11.77899,21.44795 -28.85698,14.98745 -14.80793,0.85421 -19.31546,0.0741 -3.99375,-7.73734 1.64143,-23.21159 15.09694,-50.50836 42.20763,-33.87507 -13.19202,-19.6083 -54.382,-16.55751 -77.62777,-8.85139 -24.38441,5.55791 -46.68614,24.97179 -63.19995,38.54162 -26.652597,-32.58656 19.78856,-56.61192 31.94724,-70.21705 -9.40417,3.62472 -39.272077,25.83602 -21.63951,1.92295 9.44755,-26.70845 -29.071777,21.11528 -33.728267,24.82575 -11.94616,-10.42832 -29.34264,-24.1401 -43.27723,-25.66836 24.64294,14.33586 57.4071,40.61813 32.40703,70.44753 -17.60349,-22.25761 -44.99678,-36.61728 -72.9165505,-42.84125 -18.4934695,-6.95407 -67.0751095,-1.53079 -63.7316395,11.56554 31.64659,-19.6707 32.35274,21.69778 44.41246,37.72815 18.5026395,9.2301 -34.23773,4.74327 -33.57774,-14.00919 -19.58113,-29.18635 2.86782,25.95824 17.33454,27.56844 13.87823,13.32725 73.31025,-7.99087 41.8807795,21.66383 -12.7126895,13.84608 -32.9719895,25.78054 -50.4901195,19.38728 19.29256,24.26309 58.6473995,-9.76173 69.17792,-9.74438 -12.8055705,24.03795 -47.44222,53.48659 -73.97347,35.99917 -8.97062,-8.43258 -18.36784,-58.09115 -18.55382,-20.7233 -7.67706,20.37895 17.35606,65.74292 -20.31827,45.68761 -22.169523,-4.38115 -15.627513,-47.8145 2.64121,-49.47111 -11.666713,-7.92661 -42.078993,20.54291 -20.945993,-0.89756 22.471593,-7.94173 36.367133,-13.68045 41.301983,-28.51971 17.36083,-13.01964 -18.7025,-64.20378 -3.3654,-27.95777 5.24199,16.36271 -18.31913,49.57342 -19.27359,15.5509 -8.025153,-13.78 -17.275433,-11.20425 -4.94215,1.77181 -3.658973,0.32693 -28.804643,8.71291 -33.657373,9.27035 -1.31324,-15.15009 18.60496,-36.29817 15.69884,-43.76149 -33.44445,27.20927 30.416473,-30.03163 -1.00668,-10.02452 -20.82861,16.34446 -1.48668,-31.98708 10.06255,-35.43454 -7.21031,-8.82497 -20.98507,29.35718 -35.39098,31.45251 -24.89236,19.25337 29.74231,-51.96495 0.51608,-22.61798 -17.24542,20.40068 10.76756,-20.85029 18.79932,-24.51976 11.74904,-8.13536 23.351205,-18.33471 2.55818,-10.0755 -10.90344,13.90764 -45.66035,-14.64741 -11.56782,-5.0496 19.12661,-6.04978 31.681543,-12.08039 45.052203,5.51301 -18.477303,-19.33028 -21.975023,-49.10499 -20.686083,-75.68879 0.0588,-12.96396 7.385873,-70.917559 14.563913,-34.44136 8.48942,29.98318 29.21551,54.87334 54.59773,72.21642 9.59368,8.28499 60.51317,18.97281 26.60081,5.34516 -15.38496,-5.09843 -55.46619,-25.53139 -19.3857,-33.52471 15.83538,-1.69112 42.65441,-56.368449 35.3839495,-18.24817 -3.86679995,14.21775 -4.50550995,25.61345 4.5761,6.28358 18.1124705,-17.77338 -2.18528,-48.700799 -1.93489,-58.835929 19.9257905,7.40986 -22.7379495,-23.84076 -18.6920895,-36.87318 -6.40484,-31.61009 15.6455395,20.61874 32.09133,18.75179 17.1657,10.93274 22.46459,33.54737 31.66504,48.490749 10.59127,-36.756729 -36.28853,-47.619839 -26.5124,-81.738538 -3.28521,-9.555561 9.47733,-56.922558 4.32042,-24.236365 -3.17503,15.586806 7.61001,49.956054 5.03909,14.638984 -1.31617,-10.277159 4.69834,-42.53971 7.91369,-13.369437 5.17578,16.593132 11.27185,39.399507 13.5384,51.117397 10.0351,-35.620615 29.63357,-69.247772 61.713787,-88.954512 18.97457,-11.435354 44.62603,-22.916376 65.68569,-19.926259 -32.17429,14.277207 -59.94566,37.455477 -79.60389,66.592823 20.37149,-9.273354 41.53275,-32.851166 64.89165,-43.988028 9.40675,-7.589582 51.0751,-20.804527 25.12429,0.334413 C 181.16777,2.328811 150.2159,-4.146548 125.38641,12.239572 102.7219,27.807907 79.901303,50.995051 82.614143,81.028171 c -4.83199,14.07645 2.5002,59.012809 5.29018,21.475069 0.0672,-28.508779 4.72638,-59.834549 32.227127,-75.321344 18.93822,-21.581707 62.11525,-35.615739 75.72132,-1.070857 0.58506,3.423949 -55.79914,-13.000713 -24.62155,-1.142389 17.64404,4.074422 25.20215,13.262578 2.45358,13.381837 -32.57251,14.046504 -43.26091,50.276844 -60.53552,78.324623 -14.427177,20.5254 4.52753,20.72458 9.08813,0.56436 0.89949,-28.373549 63.03767,-25.668289 56.68395,-16.89895 -14.86328,-2.483229 -56.03197,22.75888 -45.32723,27.58862 6.8861,-11.08199 43.34602,-23.37728 17.40137,-3.57422 -19.80893,20.60145 -40.643,43.92204 -47.17637,72.31646 3.20443,5.65466 5.35928,-5.02832 7.13601,-4.52447 z m 77.199,-251.449589 C 147.18438,-60.732747 104.6428,-43.40037 80.317003,-9.793683 68.501863,1.800516 58.433423,36.964935 52.395553,2.808713 c -6.99989,-14.286777 -0.4893,-61.160429 -19.08993,-26.074685 -19.02097,17.65643 -7.72074,61.676418 -21.47379,70.579773 -29.06789,-14.136361 -16.8530805,-58.174279 -1.40446,-68.165626 -24.90235,13.828721 -37.25466,45.542623 -31.61076,73.761486 2.31219,25.21632 45.09712,55.465789 8.3409,72.365989 -17.60506,13.99309 -50.47395,41.47672 -58.83895,4.5806 -14.13808,-17.74802 -18.29619,-47.428549 -22.54148,-63.614379 -21.601353,36.849009 -23.737923,82.281729 -14.458003,123.213519 5.13408,27.07004 -55.69623,7.64081 -55.62627,16.39026 11.09994,15.03319 40.4053,24.50805 14.70758,41.80422 -12.78278,14.15989 -15.04796,61.7099 -6.93774,64.00249 -3.63375,-18.31431 32.38307,-58.50732 25.2174,-19.23648 -16.79189,13.12215 -16.29238,62.83888 -7.12094,65.20808 0.20262,-23.54192 60.026053,-42.03935 37.75908,-11.68071 -18.41062,0.69774 -34.93787,40.03688 -25.31796,38.97634 8.1604,-10.83019 25.45378,-23.39969 12.13568,-0.83716 -0.7755,41.49694 -42.56244,-9.86755 -49.10738,-28.08151 -19.86519,-43.13152 -27.96291,-91.68212 -26.85705,-139.08273 -9.39648,18.47543 -8.64734,62.99721 -9.30184,91.48264 0.48439,52.15449 11.18087,107.20717 43.24664,149.46592 18.06268,25.19686 56.791593,22.05335 56.207852,59.19915 8.653321,14.05372 35.040371,52.59024 38.111781,14.82766 4.30138,-29.08298 40.86224,-5.22615 47.40099,-4.1014 -26.10238,30.14223 33.41185,6.13849 46.37929,26.30381 22.25679,20.64095 57.06454,38.4494 84.773697,16.21474 20.40955,-22.0233 50.58094,-26.74102 77.41496,-27.61802 -4.50442,-10.65623 -19.61673,-20.18793 2.5025,-18.91888 25.14956,-20.38035 36.01003,7.30522 43.65547,26.16839 32.13108,-10.56072 26.35098,-58.18337 53.9398,-67.72196 31.31676,-12.34869 48.25834,-44.24878 59.05484,-73.93307 15.35145,-40.4041 18.15581,-83.60792 16.95383,-126.48632 -3.10396,-20.23646 -0.88749,-52.76851 -8.87349,-65.06181 -0.57409,49.23236 -6.90242,100.05242 -29.71757,144.2419 -8.92188,17.44887 -44.90745,61.86459 -47.92766,21.05155 -11.63168,-33.05023 23.206,27.4433 15.82161,-4.2895 3.53903,-22.57599 -54.93976,-36.04188 -24.55777,-49.19992 19.30425,-2.96021 32.82081,32.47725 38.01593,29.02756 11.56213,-28.9036 -9.24598,-54.35562 -10.76844,-79.59296 13.52784,-17.99138 25.10545,42.1183 27.95577,33.58711 5.03197,-29.43911 -1.36318,-59.34024 -21.84266,-81.51953 12.44538,-6.20493 47.39227,-39.87901 10.93794,-24.55442 -24.13315,3.01629 -53.71544,-6.42985 -36.88298,-34.76243 6.39692,-35.75524 1.09816,-75.406339 -18.53208,-106.023189 -0.85775,27.56477 -12.61183,55.619749 -29.32094,78.358939 -16.27629,30.89529 -49.80881,-7.54541 -60.86346,-25.18262 3.35926,-27.291499 30.04593,12.90981 28.42069,5.51634 -19.30558,-20.98689 -18.25206,-53.736379 12.56854,-61.831629 11.13096,4.85109 5.77043,48.632609 12.9955,16.74166 -8.72548,-39.558122 52.75323,-23.68263 68.85469,-3.42078 11.86957,6.31161 -18.50825,-28.16829 -25.51621,-34.81372 -20.18011,-25.82577 -56.15464,-19.668088 -79.12502,-33.831626 -16.56434,-19.712954 26.21249,-44.686043 44.1783,-54.089073 12.90422,-3.05975 36.35196,-12.206861 8.38548,-11.910841 -18.82117,-1.416446 -37.70339,-0.704398 -56.56332,-0.871351 z"

# data = "m -94.87203,298.13392 c 0,0 -28.52752,-11.24983 -41.94754,-6.72835 -13.42002,4.52148 -29.32335,30.74098 -29.32335,30.74098 0,0 1.88374,-30.60767 -6.56346,-41.97365 -8.4472,-11.36598 -38.29782,-18.38868 -38.29782,-18.38868 l 37.8911,-19.2128 5.654,-42.1058 c 0,0 16.46676,25.86936 29.98144,30.09949 13.51468,4.23014 41.792181,-7.63414 41.792181,-7.63414 l -19.361541,37.81531 z"

import re

steps = data.split(" ")
additive = False
currentSkip = skip = -1
currentX = currentY = None
out = []
for command in steps:
    try:
        xy = command.split(",")
        x = float(xy[0])
        y = float(xy[1])

        if currentSkip < 0 and skip > 0:
            currentSkip = skip
        if currentSkip > 0:
            currentSkip -= 1
            # print "skipping", command, currentSkip, skip
            continue
        if currentSkip == 0:
            # print "processing", command
            currentSkip -= 1

        if not additive or currentX is None:
            currentX = x
            currentY = y
        else:
            currentX += x
            currentY += y

        out.append('<path style="fill:#000000" d="m %s,%s l %s,%s %s,%s %s,%s Z" />' % (currentX-2, currentY-2, 4, 0, 0, 4, -4, 0))
    except Exception as e:
        # print e
        skip = -1
        if command == "z" or command == "Z":
            continue
        if command.upper() == command:
            additive = False
            currentX = currentY = None
        else:
            additive = True
        if command == "c" or command == "C":
            skip = 2

print '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'
print "<g>"
print "\n".join(out)
print '<path style="fill:#ff0000" d="%s" />' % data
print "</g>"
print '</svg>'
